import{_ as t,e as i,f as a,i as n,h as s,o}from"./app-A1howTpB.js";const r={};function l(d,e){return o(),i("div",null,[e[0]||(e[0]=a("h2",{id:"configuration-guide",tabindex:"-1"},[a("a",{class:"header-anchor",href:"#configuration-guide"},[a("span",null,"Configuration guide")])],-1)),n(" NOTE: GitHub release doc seems to not support multiline paragraph joining as opposed to other places markdown is used in GitHub. Keep paragraphs on one line in this file, as ugly as it is to do so. "),e[1]||(e[1]=s(`<p>Link to the appropriate configuration guide version: <a href="https://github.com/jtroo/kanata/blob/FIXME/docs/config.adoc" target="_blank" rel="noopener noreferrer">guide link TODO: FIX LINK</a>.</p><h2 id="changelog-since-todo-previous-version-here" tabindex="-1"><a class="header-anchor" href="#changelog-since-todo-previous-version-here"><span>Changelog (since &lt;TODO: previous_version_here&gt;)</span></a></h2><details><summary>Change log</summary> * TODO: fill this out </details><h2 id="sample-configuration-file" tabindex="-1"><a class="header-anchor" href="#sample-configuration-file"><span>Sample configuration file</span></a></h2><p>The attached <code>kanata.kbd</code> file is tested to work with the current version. The one in the <code>main</code> branch of the repository may have extra features that are not supported in this release.</p><h2 id="windows" tabindex="-1"><a class="header-anchor" href="#windows"><span>Windows</span></a></h2><details><summary>Instructions</summary><p><strong>NOTE:</strong> All Windows binaries are compiled for x86-64 architectures only.</p><p>Download <code>kanata.exe</code>. Optionally, download <code>kanata.kbd</code>. With the two files in the same directory, you can double-click the <code>exe</code> to start kanata. Kanata does not start a background process, so the window needs to stay open after startup. See <a href="https://github.com/jtroo/kanata/discussions/193" target="_blank" rel="noopener noreferrer">this discussion</a> for tips to run kanata in the background.</p><p>You need to run <code>kanata.exe</code> via <code>cmd</code> or <code>powershell</code> to use a different configuration file:</p><p><code>kanata.exe --cfg &lt;cfg_file&gt;</code></p><hr><p><strong>NOTE:</strong> The <code>kanata_winIOv2.exe</code> variant contains an experimental breaking change that fixes <a href="https://github.com/jtroo/kanata/issues/152" target="_blank" rel="noopener noreferrer">an issue</a> where the Windows LLHOOK+SendInput version of kanata does not handle <code>defsrc</code> consistently compared to other versions and other operating systems. This variant will be of interest to you for any of the following reasons:</p><ul><li>you are a new user</li><li>you are a cross-platform user</li><li>you use multiple language layouts within Windows and want kanata to handle the key positions consistently</li></ul><p>This variant contains the same output change as in the <code>scancode</code> variant below, and also changes the input to also operate on scancodes.</p><hr><p><strong>NOTE:</strong> The <code>kanata_legacy_output.exe</code> variant has the same input <code>defsrc</code> handling as the standard <code>kanata.exe</code> file. It uses the same output mechanism as the standard <code>kanata.exe</code> variant in version 1.6.1 and earlier. In other words the formerly <code>experimental_scancode</code> variant is now the default binary. The non-legacy variants contain changes for <a href="https://github.com/jtroo/kanata/issues/567" target="_blank" rel="noopener noreferrer">an issue</a>; the fix is omitted from this legacy variant. The legacy variant is included in case issues are found with the new output mechanism.</p><hr></details><h2 id="linux" tabindex="-1"><a class="header-anchor" href="#linux"><span>Linux</span></a></h2><details><summary>Instructions</summary><p><strong>NOTE:</strong> All Linux binaries are compiled for x86 architectures only.</p><p>Download <code>kanata</code>.</p><p>Run it in a terminal and point it to a valid configuration file. Kanata does not start a background process, so the window needs to stay open after startup. See <a href="https://github.com/jtroo/kanata/discussions/130" target="_blank" rel="noopener noreferrer">this discussion</a> for how to set up kanata with systemd.</p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>chmod +x kanata   # may be downloaded without executable permissions</span></span>
<span class="line"><span>sudo ./kanata --cfg &lt;cfg_file&gt;\`</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><p>To avoid requiring <code>sudo</code>, <a href="https://github.com/jtroo/kanata/wiki/Avoid-using-sudo-on-Linux" target="_blank" rel="noopener noreferrer">follow the instructions here</a>.</p></details><h2 id="macos" tabindex="-1"><a class="header-anchor" href="#macos"><span>macOS</span></a></h2><details><summary>Instructions</summary><p><strong>WARNING</strong>: feature support on macOS <a href="https://github.com/jtroo/kanata/blob/main/docs/platform-known-issues.adoc#macos" target="_blank" rel="noopener noreferrer">is limited</a>.</p><h3 id="instructions-for-macos-11-and-newer" tabindex="-1"><a class="header-anchor" href="#instructions-for-macos-11-and-newer"><span>Instructions for macOS 11 and newer</span></a></h3><p>Please read through this issue comment:</p><p>https://github.com/jtroo/kanata/issues/1264#issuecomment-2763085239</p><p>Also have a read through this discussion:</p><p>https://github.com/jtroo/kanata/discussions/1537</p><h3 id="old-instructions-for-macos-11-and-newer" tabindex="-1"><a class="header-anchor" href="#old-instructions-for-macos-11-and-newer"><span>Old instructions for macOS 11 and newer</span></a></h3><details><summary>Click to expand</summary><p>First install Karabiner driver for macOS 11 and newer:</p><ul><li>Install the <a href="https://github.com/pqrs-org/Karabiner-DriverKit-VirtualHIDDevice/blob/main/dist/Karabiner-DriverKit-VirtualHIDDevice-5.0.0.pkg" target="_blank" rel="noopener noreferrer">V5 Karabiner VirtualHiDDevice Driver</a>.</li></ul><p>To activate it:</p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>sudo /Applications/.Karabiner-VirtualHIDDevice-Manager.app/Contents/MacOS/Karabiner-VirtualHIDDevice-Manager activate</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>Then you need to run the daemon. You should run this in the background somehow or leave the terminal window where you run this command open.</p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>sudo &#39;/Library/Application Support/org.pqrs/Karabiner-DriverKit-VirtualHIDDevice/Applications/Karabiner-VirtualHIDDevice-Daemon.app/Contents/MacOS/Karabiner-VirtualHIDDevice-Daemon&#39;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div></details><h3 id="install-karabiner-driver-for-macos-10-and-older" tabindex="-1"><a class="header-anchor" href="#install-karabiner-driver-for-macos-10-and-older"><span>Install Karabiner driver for macOS 10 and older:</span></a></h3><ul><li>Install the <a href="https://github.com/pqrs-org/Karabiner-VirtualHIDDevice" target="_blank" rel="noopener noreferrer">Karabiner kernel extension</a>.</li></ul><h3 id="after-installing-the-appropriate-driver-for-your-os-both-macos-10-and-11" tabindex="-1"><a class="header-anchor" href="#after-installing-the-appropriate-driver-for-your-os-both-macos-10-and-11"><span>After installing the appropriate driver for your OS (both macOS &lt;=10 and &gt;=11)</span></a></h3><p>Download a <code>kanata_macos</code> variant.</p><p>Run it in a terminal and point it to a valid configuration file. Kanata does not start a background process, so the window needs to stay open after startup.</p><p>Example</p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>chmod +x kanata_macos_arm64   # may be downloaded without executable permissions</span></span>
<span class="line"><span>sudo ./kanata_macos_arm64 --cfg &lt;cfg_file&gt;\`</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="add-permissions" tabindex="-1"><a class="header-anchor" href="#add-permissions"><span>Add permissions</span></a></h3><p>If Kanata is not behaving correctly, you may need to add permissions. Please see this issue: <a href="https://github.com/jtroo/kanata/issues/1211" target="_blank" rel="noopener noreferrer">link to macOS permissions issue</a>.</p></details><h2 id="cmd-allowed-variants" tabindex="-1"><a class="header-anchor" href="#cmd-allowed-variants"><span>cmd_allowed variants</span></a></h2><details><summary>Explanation</summary><p>The binaries with the name <code>cmd_allowed</code> are conditionally compiled with the <code>cmd</code> action enabled.</p><p>Using the regular binaries, there is no way to get the <code>cmd</code> action to work. This action is restricted behind conditional compilation because I consider the action to be a security risk that should be explicitly opted into and completely forbidden by default.</p></details><h2 id="wintercept-variants" tabindex="-1"><a class="header-anchor" href="#wintercept-variants"><span>wintercept variants</span></a></h2><details><summary>Explanation and instructions</summary><h3 id="warning-known-issue" tabindex="-1"><a class="header-anchor" href="#warning-known-issue"><span>Warning: known issue</span></a></h3><p>This issue in the Interception driver exists: https://github.com/oblitum/Interception/issues/25. This will affect you if you put your PC to sleep instead of shutting it down, or if you frequently plug/unplug USB devices.</p><h3 id="description" tabindex="-1"><a class="header-anchor" href="#description"><span>Description</span></a></h3><p>These variants use the <a href="https://github.com/oblitum/Interception" target="_blank" rel="noopener noreferrer">Interception driver</a> instead of Windows hooks. You will need to install the driver using the release or from the <a href="https://github.com/jtroo/kanata/tree/main/assets" target="_blank" rel="noopener noreferrer">copy in this repo</a>. The benefit of using this driver is that it is a lower-level mechanism than Windows hooks. This means <code>kanata</code> will work in more applications.</p><h3 id="steps-to-install-the-driver" tabindex="-1"><a class="header-anchor" href="#steps-to-install-the-driver"><span>Steps to install the driver</span></a></h3><ul><li>extract the <code>.zip</code></li><li>run a shell with administrator privilege</li><li>run the script <code>&quot;command line installer/install-interception.exe&quot;</code></li><li>reboot</li></ul><h3 id="additional-installation-steps" tabindex="-1"><a class="header-anchor" href="#additional-installation-steps"><span>Additional installation steps</span></a></h3><p>The above steps are those recommended by the interception driver author. However, I have found that those steps work inconsistently and sometimes the dll stops being able to be loaded. I think it has something to do with being installed in the privileged location of <code>system32\\drivers</code>.</p><p>To help with the dll issue, you can copy the following file in the zip archive to the directory that kanata starts from: <code>Interception\\library\\x64\\interception.dll</code>.</p><p>E.g. if you start kanata from your <code>Documents</code> folder, put the file there:</p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>C:\\Users\\my_user\\Documents\\</span></span>
<span class="line"><span>    kanata_wintercept.exe</span></span>
<span class="line"><span>    kanata.kbd</span></span>
<span class="line"><span>    interception.dll</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></details><h2 id="kanata-passthru-dll" tabindex="-1"><a class="header-anchor" href="#kanata-passthru-dll"><span>kanata_passthru.dll</span></a></h2><details><summary>Explanation and instructions</summary><p>The Windows <code>kanata_passthru.dll</code> file allows using Kanata as a library within AutoHotkey to avoid conflicts between keyboard hooks installed by both. You can channel keyboard input events received by AutoHotkey into Kanata&#39;s keyboard engine and get the transformed keyboard output events (per your Kanata config) that AutoHotkey can then send to the OS.</p><p>To make use of this, download <code>kanata_passthru.dll</code>, then the <a href="https://github.com/jtroo/kanata/blob/main/docs/simulated_passthru_ahk" target="_blank" rel="noopener noreferrer">simulated_passthru_ahk</a> folder with a brief example, place the dll there, open <code>kanata_passthru.ahk</code> to read what the example does and then double-click to launch it.</p></details><h2 id="sha256-checksums" tabindex="-1"><a class="header-anchor" href="#sha256-checksums"><span>sha256 checksums</span></a></h2><details><summary>Sums</summary><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>TODO: fill this out</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div></details>`,19))])}const c=t(r,[["render",l],["__file","release-template.html.vue"]]),p=JSON.parse('{"path":"/release-template.html","title":"release-template","lang":"zh-CN","frontmatter":{"description":"Configuration guide Link to the appropriate configuration guide version: guide link TODO: FIX LINK. Changelog (since <TODO: previous_version_here>) Change log * TODO: fill this ...","head":[["meta",{"property":"og:url","content":"https://LincDocs.github.io/kanata/release-template.html"}],["meta",{"property":"og:site_name","content":"kanata"}],["meta",{"property":"og:description","content":"Configuration guide Link to the appropriate configuration guide version: guide link TODO: FIX LINK. Changelog (since <TODO: previous_version_here>) Change log * TODO: fill this ..."}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:locale","content":"zh-CN"}],["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"\\",\\"image\\":[\\"\\"],\\"dateModified\\":null,\\"author\\":[{\\"@type\\":\\"Person\\",\\"name\\":\\"LincDocs\\",\\"url\\":\\"https://github.com/LincDocs/kanata/\\"}]}"]]},"git":{},"readingTime":{"minutes":3.62,"words":1086},"filePathRelative":"release-template.md","excerpt":"<h2>Configuration guide</h2>\\n<!-- NOTE: GitHub release doc seems to not support multiline paragraph joining as opposed to other places markdown is used in GitHub. Keep paragraphs on one line in this file, as ugly as it is to do so. -->\\n<p>Link to the appropriate configuration guide version: <a href=\\"https://github.com/jtroo/kanata/blob/FIXME/docs/config.adoc\\" target=\\"_blank\\" rel=\\"noopener noreferrer\\">guide link TODO: FIX LINK</a>.</p>","autoDesc":true,"bioChainData":{"outlink":[],"backlink":[],"localMap":{"nodes":[{"id":"release-template.md","value":{"title":"release-template","path":"release-template.md","outlink":[],"backlink":[]}}],"links":[]}}}');export{c as comp,p as data};
